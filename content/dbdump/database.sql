PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE users (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL UNIQUE,
  mail TEXT NOT NULL UNIQUE,
  password TEXT ,
  pubkey TEXT UNIQUE,
  privkey TEXT UNIQUE,
  iv TEXT,
  terms BOOLEAN 
  );
INSERT INTO "users" VALUES(1,'nelson','nelson@ocastudios.com','$2y$10$uopJC4dYgB02AWxsvnXxAuSghnu8hV1PUO6gQuPo5p61X.kS42pN2','-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAs21cRKXmuin5bkW9y4TZ
EC9elL7Xg+41Ku/YWYnpXCtsP4Hpzg72Ym7zK1jtaovoRJexjE4T+ofD50ecaiTK
IX6ZSV0xpgG5SXHDy/YUr6HaWBDmZSdp1DzYcI1JRQdpJJVbp59A1UV3gWcudrft
jFUCiYGnUWsHgG4rUJmyMJxP6VhXX+57HsocSpRVpAukq5TUJmHCKeBHaWjP07pk
JDtU5L5gfMmC+0aCZwHeiCvhWIiVe+mbHwe2ywtYRG6P0djzBv5m4sAZhm1cNQCS
YvzawXANjn/HNx8YSCS7KROfq2hjTO2ok5KYjs2iSguBKprwRgBdixFKATWnVcd6
bwIDAQAB
-----END PUBLIC KEY-----
','Z0gyMjdZZnVzU3ZMcVdIZjlZRnB2N3gvdVpUSXg5YUtJTUpyUzVnVUR4M2ROVkJtSGRyeHYwWmwxZE5ZK05hN003aWxicFRYclVnYTZEak8xaFJMZnlrLzMzYVJiUUE2enpNWTBSdCtZMVUxV25zeEVtZk1SOGpXSWZEb1FBMjJHZk1OVFNXVVhQZjFTN2lVbXNIc0piMUkwbzU4S096WmhwNlBQNGxJSCtaNHBNZlNpL3FnQWFJZ2RWQTBuR3BHVEVDWWlqKzR5Z3VXZnp5aTFWOTQ1VUFqbmtXVGZqUHVJOTlzc0ZHRzY1YnRkUnVwS0VJNjNOcWFMaWJ6emQ5bkZ4VVFWZ0o0WCtudEZwa00zbHByNGMzZVR2SVV2aTdlRUFaUFdZL2FaYnFoUkZHelVmckJDeDkxYlFRODNGa0p3TkFXM25xb2E1Q2h3bkZyWU5OQjhIL2QvaVNZLzhaZUp1bHFsZW12bVM2SnVYSmxXaWVpUUtMalRLa2hZdXJUbzlSMnQxUStPQ1pyUmRoRy96dDBScW1MeVlwTG44MUQyajFIeTNiUkZ2SU9EN2F3d2M4QzdXTjJDZjE0azE1RDAyTE5QcjAwdW9acmxPaUU0RkNVelVsN1E0ZXNTUnpGSFI1ME44SzIrWm1tN0wyR0hmYzU4b3VvWEFaYXdHbFpzQVNGaUI0U212YUducEs5TUVmdEVnSjA3c3VWWUw2aUtOZk1QbW9aS21ERzZIM1EybHkvUlcxUTQ0Q211SXRYUG51cjVnQzVGUEprdGMybnY0elhLemxHeWRVejAzOUhiV2dCTkZQbTZZY1RhTldMRytGK2NKcmYrZXFnaVVqSnVpY3h5QWtaNTl4ZmJtK0JSSWxTa1gwZzNTMWV4VnFtRHMxWWRUaW4waHliNTB0QnJkSlJDdytuTnZDM25jR0NXcU5TdndiS3IwcTVOMXRsdGZsUm1ZdlRvakY5MHpkK2t5NTh3empRNVZHTjBiSHoyUUxNdTJUd1lzVmpGY3FFeHFBNjdSc0JRcVVYcDlIVHlkYU1GeEJIRmpUZnA4UDlyMHVXVEgyalVmRnlYYS9EUHhJYlgvRk9Ldy95NGV4Tk9jNEM0SDRZTVZZRjFMZHpjOEVQSjhUY2d3ZENxalJ6dWxLRUFKUzRWWFlyelpOYjhqVStRUVpyNDdHT1UyR0p0QXhRZVN3TldYMW05MTdvRlFvRUEveVY0Zkg5ai9NbUxqSUxLZ1FWWTh3ZFdlMVhQcmI5aUNrbFFJdWRYOW1iVVI2byt6SEdCM29CdUVjQ2s5aHJtRi9yS21jTU5pTkFlMlJIQ244cU9BMlpuWFk2Nmh0UEFQckVubldmQkF3VXdHbDVkNERKdHJqS25xK0ptUTVCRDY2dUpnUERFSkw4VGM2bWVxY0dSZHBEOWVMc3c0eDZUdFdOT0V0UElwOVdLaitYNnU5c284bWNvY283L2JhUXJ2Q1hvdjQ1bk54SERVNjhCNGxzRm9rMFBQcGhhL1RkWGlEaktUMDVYTE5FNUxQc3d6bVBKcnprczlyc2FkVE5iSUxPY0NjbFoxbGRPOWlEUWJBWHFzU013ckpnYkhUNjlrUmgrNHVIMzVCdEw4V21BcGwrQ3B2cU5lZVVUejU1dEo3MWpobjJKcGRTeHhPa0I2cEFVVjY1UklMeEdwcXE5V2RySjJWY1JVaGhWQVV0cW91aUEyV2lYVkE3SENFSmtITnd6c2lYQWRESHFiaU0vNTVEUWQyU1I1YUJHS1dZejlpbkM0TnNJeTRGRXo5Q2lFaSttYUp3Q2VwSHFTNUVzSlVIcFQweHN3TTBpTDBxdE4wcDVoemxkRHU3RTRCejFBNmc0UzRidGVIbVpKeFk5a0pFemU5NWNwVDU0RHNNVUpjb3hOOWZUczVEY0p1OG5uMjNyTUJ6WVFSUS9YYk9iekUrRFFWb1ZuNVdYbFFHaVpvV05YM3AxRnU0enVrUVlQN1VCRXEyUzJySmd3RUpFeVgyUFpJcG1jS0FsRjZpYjNWTFlLSzRMWVZlQlYxZElsSjJhejNhbnZjWFFLVzdNalJjdUg5c041R3Bvak9JZkFSeWJkTG9NMndOdTcwT0hqTGE4RW1sMVF5SGFwMEpDYlM5S0VFRUZjbHlVaWo3b2k4c1NGZU1qOWZWbUpOZXNqNmpQdGpnVEtubVQ3cFNxMDIyaW5IaDhEK3FmWmFBWndpM2J2TWZoeFE4Rnd2Q2Qvc0FlWTBCd0dQU01Pb0pPUkJ1VVNjMjFrYWxKdEFIVFU1WjJESXg3bytZT3hwN21MdSs2T1lDeUNYekJTSmxZajZvd3QxM1ZrSWZSUjJ5WkVCWGdwVnVDQ1NwaDlTUENTdnpEaTJQQ2k1cDlTQzZVemhpdXRCYWZUbWVUSnBMLy9iajBEd3R3cXNHK1pRdDVDNC9laDFWSXFBK1o5SWVmbFR0b1EyMjRHcjdadGlPbEJkY0c1UXFVN0JLcWZQNTcxUjBzVzRMTzZZM3pEVEUxNDZ5SW9kOTVsVld0M3ZXRmJSRVRyd3FMdHk2eXM4ZXBaQnFBRHp4QTZMNnpRa2Z2SytmRktlVE9aWDhHbVc5QWllZUkwN2lxMk5yYm9ONThOUEt3RklOcUFqUG5SbjM2ZzlndlE0QXU5UEVBdzExWHFDTlUrTzJ2Qkd5RkVLM0I3cER0Z0hNOVg2ZGhzeG51VUJyTEFkZUpmS1dObU1VZ21uc3h2b3RycGpPMVh1S3FvMjk2WTNPcE9teUhpNnBQekRtaURXaXJXenpuZXExRlhuOGFVVVh3Q1Nkcm93QkN4bHJSTko2MkdnMHgwQ0NHUFVPNE9UdjB6TTNoT1pJZ2RxV3pLZ2VlWU9MOXBCcHpPSnA1TWJONVB1L3VOR0htZ3NFRTMxS0VjYTFtZGR1UGhPYUhRa2RLemVBR29qMFNCQnNhek1ZYlR3SGwvT1ZFczJhRXFjeS90dmNiZGRIMWcyeWtTWG1YVmJxNHp5WVBFbGpNMlJGRkNBNFF0WGh4MUI3VjVZPQ==','Âı+}Ñ˛OB/!èá˝¢',1);
CREATE TABLE messages(
  id INTEGER PRIMARY KEY,
  content TEXT NOT NULL,
  recipient INTEGER NOT NULL references users(id),
  sender    INTEGER NOT NULL references users(id),
  ekeys TEXT
  );
INSERT INTO "messages" VALUES(1,'ÿVP;éﬂ`~dpv˘9ƒlû0.œÊ∂≤˚/µîkKD”ƒ©.»9π˘•äºv¢~=}6≤e-u€2r”hò‰y√˙Â√∂;ıLa¢‰˜u≠1^*Ø·õÔ_Ÿe/SıJö9qGºÈ«41Å®‰™ôÖŒÙë:}d“bÆ¸}V[A9ÄK…QûÉIGHœçm‚ö0§«Ü_T',1,1,'a:1:{i:0;s:256:"Åqrı=w›êÌ]˛ßeê)7R:Ñ}wÙéﬂ∆˛ú8µsÿ›”l¶ÆÎ¸Ñ©ﬂw=[~Pı8Æ<º[;É¯Üº‹§ŒùdõƒÖ”‹˜íù)Å™+ΩÛ*ågvaTp/_};ßπñäã•8	,˚‹–8$¢èÆù8JÏö˛”´,À#CfZì!‡ÎÈäößº_µ›3\9k!˘—1‹cı„22ÙÒÂ*8·ÿ¨≈C÷*“‡Yªsm~≠±›’!¡*q@æ$l
Ô¥ÓëQFWq6∞;VÏX‰ß{K)V§V*N4ÒUs˝∏’ø÷ë…ıo®/¬%¯§Ëì¿‰Ò;∞◊ﬁ";}');
INSERT INTO "messages" VALUES(2,'m„ÈaW≠πú1Ier©1?0í≈ÿ).B◊ù∫ß@ ÎÃW¥^eΩc¨%ÍÕS∂O¬9_CêuÎp2\2„''Ã“ﬂSçm9àIsv≥“ÅPºöÃN',1,1,'a:1:{i:0;s:256:"¯°@zNí%ÌÛ‡)Ãƒ_∏S‚Yï∞Â:¸%Û4“Öuœ±qÊÍ„—P-=µ:F,>pS∏ur¨q¡åõlÛ_-ºndH∆''>TQeï8~`$nüÁ•£WÌá˙9∆PÛò{o”ÁB¥OÊ§˘s	ó◊∆â∑ˇ≥‡«7ÍÃ0_Ô[≥ƒ ï@ØòD°<›“E<≈"û/Œ:SˇÜ–¸7î=®ÌLF€n°[®¥Pß–∆˚[=w#Öód$‚é
 ''Ï	-≤5¯=¥A4Ω<˜aõ⁄!2Ò*»C¡Óz»A@”˙5K1Qõ"?≠jv0_Ñ≤ëÿƒO8£9Tød)7";}');
CREATE TABLE sessions(
    uid INTEGER UNIQUE,
    cookie BLOB NOT NULL 
    );
INSERT INTO "sessions" VALUES(1,'±vÆﬂ´’ª');
CREATE TABLE recovery(
  user TEXT NOT NULL references users(name),
  secret TEXT NOT NULL,
  generated INTEGER NOT NULL,
  used BOOLEAN
  );
COMMIT;
