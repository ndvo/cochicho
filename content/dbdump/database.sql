PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE users (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL UNIQUE,
  mail TEXT NOT NULL UNIQUE,
  password TEXT ,
  pubkey TEXT UNIQUE,
  privkey TEXT UNIQUE,
  iv TEXT,
  terms BOOLEAN 
  );
INSERT INTO "users" VALUES(1,'nelson','nelson@ocastudios.com','$2y$10$vZysWEo.j.ppXL1VubTZKOpNHuiUKN.EK8/n8zg0tgTbtLNLwPiSm','-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAynD4FOUlklTjTraf4+FV
Bm1u4yImRzYqulAY9jfe36JK7RCgksD1N6O/3VDpIcOT0DBA1d/lTpsYT/XnwgeX
z9i+H1kRG8VwAHTpPLTUm9uIDELcBCeC6mOh9cETDQdZxrhlziVyxEmI5gZVjaTo
r3bbEVoAVVM+BWkH2gDhIdBMBeHhe2A4WyQRbyOmrIpBI8/DAjs4hkK7WroCj+o+
i3e6wIwRJ3Ik/skl6nT+j7aKnXBgdo0VE6Y6nFiiMkH8CVhLC3LZ+c8ee+dVLXEb
GDnwzRiYMS283vtUQrSmrKN/JYy+jvCgjnys50Q/GOLvwfS1F9p7JWEsa7N1W673
BQIDAQAB
-----END PUBLIC KEY-----
','Y0ZaaUQyYS9sS1ljQjdmMU56Y3p6Z3pNRjZuZ0Z4U20rWU9FK1lYWllES21xL2Rsd2NqajhGQWloZmM4NzdOek5UOGpoRDlTQjlyb3dqT0JzN2lGWjk4VU9PMDZlbDFUdEpKMVdaMFRDZk9KdzBVTnVsNVltMTRXQm5wTUtaanUzV2RoNXpkY0ZEeW83THIyV0gwR3pvSlBzeDlCNEo1bmovYW41SmUzMHhoK2JmSFZDV25iS0RRdlo1MEVDRWZ4aW1DdTJsWnRESGhTeFRHVjg2WStHaW0yOHlUazArMGRicDdwckMwbkROU3RUd21mekhOcSthS1plQkdHd0pSS3pUMUhoNlgza0FMUjRRZW1OeWwrdFN1L25SNStXdVFvWDl4RGwxWGxrV3pKZ1RHTjJLMGlWNjAyL0FQMHBnZEV5b2h4a1dtNE96OUM3RnRFdUJVaVV2aW1wdTJNL0t4aFJkWERkV29nM0tMQW9yamFycW5XbnFHRjdHMVlxNlJwL212NytHZFZOdnBRcTAxQlY0UFRScHBNR3ZTVFBzaWdHcEJLK0pYZ0hQMkwrMnlHUlJhc0RmWlduS3duRUZqcE80aTBmK3BFMW5tQjVWanVwQjh0bXl5VG1KRk9VZmNIQWRhdGdVV0t4S3JVWnFFNzQzQy9USG5vemVqSGZsZWY1dXZHLzRteDhWNitlbVhjbm1BMVZqeFhrVXpBNlRwejBsREdWeUorcFZpUHFWeXFKeGVWVzBPYkVEMWhOSWdrK3h0ZTR4dHpLR2U2aGRZRmVXcGhGZEpiNXI5VW5TdmpMNENLczVFajl4K3o5VzRKZjA0ZGQ1cDUvc1FLVGhzUElLVFdibHlWTjRtb3FhWkZ3c1AvL1R2UjcyVU84VkEyQ3dJR3ZzQ0FrTi9CU3VHUHpwcTN0TUZVTDNYUHpMZlJxTUQ5OW41TFl1YktZQStXRFY2K2h6ODdEOTFCK0s5M054SUxXK2t6NFRjOWtNZGxzRFA1a2xFc3pDdmpkV3h6bzdvVElQanhrQjdhczVRSXFoZjdvMHc5QXVKNW9Cd1NsNGI5ajljNnhpYnorV3RBaHJGQjB6Y3dMYXRocWt2ZGtHQ3NzZ2tKMnltUTBMQ0UweFVZSVEwTlpueldsZUIxNVB6ZVpleW1rQ2xkd1YwQ212WW1IWWs0ZWxQbEt3K2Z1azZTa20wSDZzSjNMZWZNQm5VVVRJUDk5bU1YbVd1b1RwLy9JT1gya0VPLzFsakk3UlpNU3UwdDg2ZjdySjlOcG0wTkQ0ME9jbFNua3poR2dHWWpJdjE2MWgvbU5zeDF0aW1VME5WY2QvQnRjRlJrMysyd0dSakpGQi9DZGNFajYxRGJ4blp3VWFCQi9rMjVDeXYwdGlpZDVaRWxKNnAvZHBXTldaR1kxaDFmc1F2eitiNVh2T2hJN3U3M1dYckw5d2pXTCt4c2tsUit1UkdyZUlmbHk2VUljUVcvSFdjVFhnYzhic3pCUXRWdzVmeEZXOFk5ZU9jTGdzVnZEV25OUlZ2N3M0VmdPS2l2WmVUSngvOVkxS3FwSDRaSm9mK1lmQXJXN0ljN3hDanVES25WVXdMNXBuNmVoN0tzSzd1Zk9GUjZSbHovNEIvcXc0eStiQTd3Qlo2c1FiL09yR3BvSEpjMUd3RzJjQUh0cU9BMVZFUmljU2Z1bWphd0lqVlczQ2JzNjZiTE1ITy9zc3lORnAzTVRJd0F6QVdYZU5xWXgvaWZBMk1SVEFteWNnUVRiUnhVZXdHdkhpdGdGaUF5aFI5SzMrR2hIcy9DSC8vOEJCUEwrQ21tM1ZNRWJEWUlVeGhHSkJCTjl3WVUvTDhmQWFNT1JXQ0hEanFGdnNnQmxtU1ZWcHZQS3ZlTlhmQkxLYnNmbEE2bm5ITnViR0poTHRxRW9oaHhhVnplM1NEdmNNeHFUMFpiajROWERmNDFNaDdIQThGbU1tdG9QUXRFbE1pK1ducXFZcWZrWi9ES3dDUVp1WEp5QXRic05tRkRqc3p0Vzl6L3lHV3NLbXA0Q0tSK3V1d2dSV2pRbndDWjd4RnQ5bW84YktXYzluc1k5SW8xZFRFRjdTbkN6SDB2UHhiQUQ5Znl1MkQ4aHREVllROGlhVW5LbGRYVUJiK25rZVZmNjRLMVpIMHVLUjVwWERvd2sxeEEzSVR6YU81bkJialZwdjdwWDNZYUM3NkR6bDVpSDlQMUNuVW45T0N2OWVSdURBa1VMOHJ3dGpzcjNRVVhOSEhTLzRSOEhyRmZ0cEVYNGhTb0hmNGJ0d05JdlB5cnhmRDBEM1oraEtzV0VvWGR2MGIxL0l0REwra1RMdnZXUnh6b09KNVJEUzJBUzluY2cxNVdGLy95VjRpTGdvbE15UWxCcmU4VjRrM3Y2RDNFUEtmR2N0RzlSaFA0MnZSRXVBOTQ5Qkt1blF2czRrNWp5OU9NYStEVDFyeHVGanA1NFpXcW1IYldwWVBTMVVBMzExdzczc3p4UUE4OEtpendQUmxWajJiUmFVa0lCSVlSMEltZnVEMDJaYXVaTHlNOFZEL20rc3FMcnk0OHQ0blBXbmJVVWs4aUdnUzRGNGliQU5MbzJlR1Qza256NU1FRm90Snl6blFrUU45Nm1KWlF2aE9JNGV5M0t1eFdtL3lWcHJYMHIwMmhGRFZESzAxMUh1ZDRjUkJXWGhwTmtZVEdjL0FSK1ZhVGJDamhEY095Rmo4NzVYMU4yZWJNMkpyZ1VKMVYyVE52bFF6SWN5MGtSQmdaYVlpNmRLWlVwZ05OSlNmQk81SnBrcGVpcFRGMzdZQkJkcXlOK1FyZWtuS3ExcHFMbTIwSitzZjFIb1ZsTUN6UHVtUnpkWnpPNTVSeGhLb1h5UDVMZ1RYc1h1ejFZQVNGTTRIU0p0bm9vUEtEcFRTSGhuQkgxeFd5eTBNQWswbGQyN2ZNNlMzQWFvV21RS1F5Q2pPS2hWN096TldpaGloYmdabDhNM3k3L2JOdFlJbzJCOWVNSWh1dnFYcjl2djhjL1drPQ==','UeüîáO÷¨%Í#õÅ‹k',1);
CREATE TABLE messages(
  id INTEGER PRIMARY KEY,
  content TEXT NOT NULL,
  recipient INTEGER NOT NULL references users(id),
  sender    INTEGER NOT NULL references users(id),
  ekeys TEXT
  );
CREATE TABLE sessions(
    uid INTEGER UNIQUE,
    cookie BLOB NOT NULL 
    );
INSERT INTO "sessions" VALUES(1,'vÈ_ÀxivOàf`±c^®
•9/éˆ≈5«ﬁ=gh≠dØç‚€√âÒ}e/ãÌ=¶wé-ﬁÜ7õá˙Ω>
´ÔÛèEn%}+i¢¯ë‡8Ûﬁƒ‚^|ewqkÑ@Ct=O!Ë>A¶ÎKj@åÈÅÿ„‚QÒ#%=0Íp&≈é·∫P ∞sÏ!j⁄”›ÒÂD
');
CREATE TABLE recovery(
  user TEXT NOT NULL references users(name),
  secret TEXT NOT NULL,
  generated INTEGER NOT NULL,
  used BOOLEAN
  );
INSERT INTO "recovery" VALUES('nelson','Bd9dSlQg4NlaYFMowYa5Kw==',1539654957,0);
INSERT INTO "recovery" VALUES('nelson','dIrdLZoOAjPOWci8AFnPmQ==',1539655441,0);
INSERT INTO "recovery" VALUES('nelson','h5tQczQSynYpHKJ8rLBDNA==',1539655572,0);
INSERT INTO "recovery" VALUES('nelson','M7f2f/yOyUCVlf5ilgMXuA==',1539656076,0);
INSERT INTO "recovery" VALUES('nelson','2FN2faJipR+CzOYRNT47wg==',1539699371,0);
INSERT INTO "recovery" VALUES('nelson','TQWLviH52C4a9wsuiMeqeA==',1539699378,0);
INSERT INTO "recovery" VALUES('nelson','4DCwadqRUx1U1zj+dl85SQ==',1539699491,1);
INSERT INTO "recovery" VALUES('nelson','mw5R1xyDcS5RxQ5UAlJ9TQ==',1539699598,1);
INSERT INTO "recovery" VALUES('nelson','UqTjC1vmzgeWxiMvNbGHVw==',1539700015,1);
INSERT INTO "recovery" VALUES('nelson','ZNyN0eF72WtWZrwt9cXhiA==',1539701133,0);
INSERT INTO "recovery" VALUES('nelson','PKLyBkt6sJVT6HLPW6+QjA==',1539701243,1);
COMMIT;
